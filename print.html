<!DOCTYPE HTML>
<html lang="ja" class="sidebar-visible no-js light">
    <head>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-200.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-300.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-500.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-600.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-700.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-900.woff2" crossorigin>
        <link rel="preload" as="font" type="../font/woff2" href="fonts/noto-serif-jp-v15-japanese-regular.woff2" crossorigin>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>RFC 2811 チャネル管理</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <link rel="stylesheet" href="fonts/font.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/theme/solarized-light-hljs.css">
        <link rel="stylesheet" href="src/theme/solarized-dark-hljs.css">
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Home</a></li><li class="chapter-item expanded "><a href="introduction/index.html"><strong aria-hidden="true">1.</strong> 序説</a></li><li class="chapter-item expanded "><a href="channel-characteristics/index.html"><strong aria-hidden="true">2.</strong> チャネルの特性</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="channel-characteristics/namespace.html"><strong aria-hidden="true">2.1.</strong> 名前空間</a></li><li class="chapter-item expanded "><a href="channel-characteristics/channel-scope.html"><strong aria-hidden="true">2.2.</strong> チャネルスコープ</a></li><li class="chapter-item expanded "><a href="channel-characteristics/channel-properties.html"><strong aria-hidden="true">2.3.</strong> チャネルプロパティ</a></li><li class="chapter-item expanded "><a href="channel-characteristics/privileged-channel-members.html"><strong aria-hidden="true">2.4.</strong> 特権的なチャネルメンバー</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="channel-characteristics/channel-operators.html"><strong aria-hidden="true">2.4.1.</strong> チャネルオペレータ</a></li><li class="chapter-item expanded "><a href="channel-characteristics/channel-creator.html"><strong aria-hidden="true">2.4.2.</strong> チャネル作成者</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="channel-lifetime/index.html"><strong aria-hidden="true">3.</strong> チャネルの寿命</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="channel-lifetime/standard-channels.html"><strong aria-hidden="true">3.1.</strong> 標準チャネル</a></li><li class="chapter-item expanded "><a href="channel-lifetime/safe-channels.html"><strong aria-hidden="true">3.2.</strong> 安全なチャネル</a></li></ol></li><li class="chapter-item expanded "><a href="channel-modes/index.html"><strong aria-hidden="true">4.</strong> チャネルモード</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="channel-modes/member-status.html"><strong aria-hidden="true">4.1.</strong> メンバーステータス</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="channel-modes/channel-creator-status.html"><strong aria-hidden="true">4.1.1.</strong> &quot;チャネル作成者&quot; のステータス</a></li><li class="chapter-item expanded "><a href="channel-modes/channel-operator-status.html"><strong aria-hidden="true">4.1.2.</strong> チャネルオペレータのステータス</a></li><li class="chapter-item expanded "><a href="channel-modes/voice-privilege.html"><strong aria-hidden="true">4.1.3.</strong> 音声特権</a></li></ol></li><li class="chapter-item expanded "><a href="channel-modes/channel-flags.html"><strong aria-hidden="true">4.2.</strong> チャネルフラグ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="channel-modes/anonymous-flag.html"><strong aria-hidden="true">4.2.1.</strong> 匿名フラグ</a></li><li class="chapter-item expanded "><a href="channel-modes/invite-only-flag.html"><strong aria-hidden="true">4.2.2.</strong> 招待専用フラグ</a></li><li class="chapter-item expanded "><a href="channel-modes/moderated-channel-flag.html"><strong aria-hidden="true">4.2.3.</strong> モデレートチャネルフラグ</a></li><li class="chapter-item expanded "><a href="channel-modes/no-messages-to-channel-from-clients-on-the-outside.html"><strong aria-hidden="true">4.2.4.</strong> 外部のクライアントからチャネルへのメッセージ禁止</a></li><li class="chapter-item expanded "><a href="channel-modes/quiet-channel.html"><strong aria-hidden="true">4.2.5.</strong> Quiet チャネル</a></li><li class="chapter-item expanded "><a href="channel-modes/private-and-secret-channels.html"><strong aria-hidden="true">4.2.6.</strong> プライベート・シークレットチャネル</a></li><li class="chapter-item expanded "><a href="channel-modes/server-reop-flag.html"><strong aria-hidden="true">4.2.7.</strong> サーバ再開フラグ</a></li><li class="chapter-item expanded "><a href="channel-modes/topic.html"><strong aria-hidden="true">4.2.8.</strong> トピック</a></li><li class="chapter-item expanded "><a href="channel-modes/user-limit.html"><strong aria-hidden="true">4.2.9.</strong> ユーザ制限</a></li><li class="chapter-item expanded "><a href="channel-modes/channel-key.html"><strong aria-hidden="true">4.2.10.</strong> チャネルキー</a></li></ol></li><li class="chapter-item expanded "><a href="channel-modes/channel-access-control.html"><strong aria-hidden="true">4.3.</strong> チャネルアクセス制御</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="channel-modes/channel-ban-and-exception.html"><strong aria-hidden="true">4.3.1.</strong> チャネル禁止と例外</a></li><li class="chapter-item expanded "><a href="channel-modes/channel-invitation.html"><strong aria-hidden="true">4.3.2.</strong> チャネル招待</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="current-implementations/index.html"><strong aria-hidden="true">5.</strong> 現在の実装</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-implementations/tracking-recently-used-channels.html"><strong aria-hidden="true">5.1.</strong> 最近使ったチャネルの追跡</a></li><li class="chapter-item expanded "><a href="current-implementations/safe-channels.html"><strong aria-hidden="true">5.2.</strong> 安全なチャネル</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-implementations/channel-identifier.html"><strong aria-hidden="true">5.2.1.</strong> チャネル識別子</a></li><li class="chapter-item expanded "><a href="current-implementations/channel-delay.html"><strong aria-hidden="true">5.2.2.</strong> チャネル遅延</a></li><li class="chapter-item expanded "><a href="current-implementations/abuse-window.html"><strong aria-hidden="true">5.2.3.</strong> Abuse Window</a></li><li class="chapter-item expanded "><a href="current-implementations/preserving-sanity-in-the-name-sapce.html"><strong aria-hidden="true">5.2.4.</strong> ネームスペースの健全性確保</a></li><li class="chapter-item expanded "><a href="current-implementations/server-repo-mechanism.html"><strong aria-hidden="true">5.2.5.</strong> サーバ再稼働の仕組み</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="current-problems/index.html"><strong aria-hidden="true">6.</strong> 現在の問題</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-problems/labels.html"><strong aria-hidden="true">6.1.</strong> ラベル</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="current-problems/channel-delay.html"><strong aria-hidden="true">6.1.1.</strong> チャネル遅延</a></li><li class="chapter-item expanded "><a href="current-problems/safe-channels.html"><strong aria-hidden="true">6.1.2.</strong> 安全なチャネル</a></li></ol></li><li class="chapter-item expanded "><a href="current-problems/mode-propagation-delays.html"><strong aria-hidden="true">6.2.</strong> モード伝搬遅延</a></li><li class="chapter-item expanded "><a href="current-problems/collisions-and-channel-modes.html"><strong aria-hidden="true">6.3.</strong> 衝突とチャネルモード</a></li><li class="chapter-item expanded "><a href="current-problems/resource-exhaustion.html"><strong aria-hidden="true">6.4.</strong> リソースの枯渇</a></li></ol></li><li class="chapter-item expanded "><a href="security-considerations/index.html"><strong aria-hidden="true">7.</strong> セキュリティへの配慮</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="security-considerations/access-control.html"><strong aria-hidden="true">7.1.</strong> アクセス制御</a></li><li class="chapter-item expanded "><a href="security-considerations/channel-privacy.html"><strong aria-hidden="true">7.2.</strong> チャネルプライバシー</a></li><li class="chapter-item expanded "><a href="security-considerations/anonymity.html"><strong aria-hidden="true">7.3.</strong> 匿名性</a></li></ol></li><li class="chapter-item expanded "><a href="current-support-and-availability/index.html"><strong aria-hidden="true">8.</strong> 現在のサポートと可用性</a></li><li class="chapter-item expanded "><a href="acknowledgements/index.html"><strong aria-hidden="true">9.</strong> 謝辞</a></li><li class="chapter-item expanded "><a href="references/index.html"><strong aria-hidden="true">10.</strong> 参考</a></li><li class="chapter-item expanded "><a href="authors-address/index.html"><strong aria-hidden="true">11.</strong> Author's Address</a></li><li class="chapter-item expanded "><a href="full-copyright-statement/index.html"><strong aria-hidden="true">12.</strong> Full Copyright Statement</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="solarized-light">Solarized Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="solarized-dark">Solarized Dark</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">RFC 2811 チャネル管理</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/solareenlo/rfc2811" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <pre><code>Network Working Group                                            C. Kalt
Request for Comments: 2811                                    April 2000
Updates: 1459
Category: Informational
</code></pre>
<h1 align="center">
Internet Relay Chat: チャネル管理
</h1>
<h2 id="irc"><a class="header" href="#irc">IRC</a></h2>
<ul>
<li><a href="https://solareenlo.com/rfc1459">RFC 1459</a> (Internet Relay Chat Protocol)</li>
<li><a href="https://solareenlo.com/rfc2810">RFC 2810</a> (Internet Relay Chat: Architecture)</li>
<li><a href="https://solareenlo.com/rfc2811">RFC 2811</a> (Internet Relay Chat: Channel Management)</li>
<li><a href="https://solareenlo.com/rfc2812">RFC 2812</a> (Internet Relay Chat: Client Protocol)</li>
<li><a href="https://solareenlo.com/rfc2813">RFC 2813</a> (Internet Relay Chat: Server Protocol)</li>
<li><a href="https://solareenlo.com/rfc7194">RFC 7194</a> (Default Port for Internet Relay Chat (IRC) via TLS/SSL)</li>
</ul>
<h2 id="本メモの位置づけ"><a class="header" href="#本メモの位置づけ">本メモの位置づけ</a></h2>
<p>このメモは、インターネットコミュニティーのための情報を提供するものです。このメモは、いかなる種類のインターネット標準も規定するものではありません。このメモの配布は無制限です。</p>
<h2 id="著作権について"><a class="header" href="#著作権について">著作権について</a></h2>
<p>Copyright (C) The Internet Society (2000).  All Rights Reserved.</p>
<h2 id="概要"><a class="header" href="#概要">概要</a></h2>
<p>IRC（Internet Relay Chat）プロトコルの最大の特徴は、チャンネルと呼ばれるフォーラムでユーザをグループ化し、複数のユーザが一緒にコミュニケーションする手段を提供することです。</p>
<p>もともとチャネルは一種類しかなかったが、時代とともにニーズに応え、あるいは実験的に新しいタイプのチャネルが登場してきました。</p>
<p>この文書では、チャネルとその特性およびプロパティが IRC サーバによってどのように管理されるかを規定します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="1-序説"><a class="header" href="#1-序説">1. 序説</a></h1>
<p>この文書は、IRC サーバがどのようにチャネルを管理するかについて詳細に定義しており、IRC サーバの実装に取り組んでいる人々にとってほとんど有益なものでしょう。</p>
<p>ここで定義された概念は IRC の重要な部分ですが、クライアントを実装する上で必須でないことに変わりはありません。トレンドは、より複雑で &quot;インテリジェント&quot; なクライアントへと向かっているようで、チャネルの内部構造を知ることを利用して、よりフレンドリーなインターフェースをユーザに提供できるようになっていますが、シンプルなクライアントは、このドキュメントを読まなくても実装することが可能です。</p>
<p>ここで定義された概念の多くは、<a href="https://solareenlo.com/rfc2810">IRC アーキテクチャ [IRC-ARCH]</a> を念頭において設計され、ほとんどがこの文脈で意味をなすものです。しかし、他の多くのものは、会議システムのためのフォーラムを提供するために、他のアーキテクチャに適用することができます。</p>
<p>最後に、IRC ユーザは、以下の章、特に <a href="introduction/../channel-characteristics/index.html">2. チャンネル特性</a> と <a href="introduction/../channel-modes/index.html">4. チャンネルモード</a> のいくつかに興味を持つかもしれないことに留意してください。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="2-チャネルの特性"><a class="header" href="#2-チャネルの特性">2. チャネルの特性</a></h1>
<p>チャネルは、そのチャネルに宛てられたメッセージをすべて受信する、1人または複数のユーザからなる名前付きグループです。チャネルは、その名前、プロパティ、現在のメンバーによって特徴付けられます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="21-名前空間"><a class="header" href="#21-名前空間">2.1 名前空間</a></h1>
<p>チャネル名は、最大50文字の文字列（<code>&amp;</code>、<code>#</code>、<code>+</code>、<code>!</code> で始まる文字）です。チャネル名は大文字と小文字を区別しません。</p>
<p>ただし、最初の文字が <code>&amp;</code>、<code>#</code>、<code>+</code>、<code>!</code> のいずれかであること（以下、&quot;チャネル接頭辞&quot; と呼びます）。チャネル名の唯一の制約は、スペース（<code> </code>）、コントロール G（^G または ASCII 7）、カンマ（<code>,</code>はプロトコルではリストアイテムのセパレータとして使用されます）を含んではならないことです。また、コロン（<code>:</code>）はチャネルマスクのデリミタとして使用されます。チャネル名の正確な文法は [&quot;IRC サーバプロトコル&quot; <a href="https://solareenlo.com/rfc2813">IRC-SERVER</a>] で定義されています。</p>
<p>異なる接頭辞を使用することで、チャネル名に対して4つの異なる名前空間が効果的に作成されます。これは、一般的な名前空間に関するプロトコルの制限のために重要です。この制限の詳細については、<a href="channel-characteristics/../current-problems/labels.html">6.1 ラベル</a> を参照してください。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="22-チャネルスコープ"><a class="header" href="#22-チャネルスコープ">2.2 チャネルスコープ</a></h1>
<p>チャネルの実体は、IRC ネットワーク上の1つまたは複数のサーバによって知られています。ユーザは、そのユーザが直接接続しているサーバが知っているチャネルのみメンバーになることができます。特定のチャネルの存在を知っているサーバのリストは、チャネルに宛てられたメッセージがすべてのチャネルメンバーに送信されるために、IRC ネットワークの連続した部分でなければなりません。</p>
<p>接頭辞に <code>&amp;</code> を持つチャネルは、作成されたサーバのローカルチャネルです。</p>
<p>その他のチャネルは、チャネルマスクに応じて、ネットワークに接続されている1台以上のサーバに知られています。</p>
<ul>
<li>
<p>チャネルマスクがない場合、チャネルはすべてのサーバに知られています。</p>
</li>
<li>
<p>チャネルマスクがある場合、チャネルは、そのチャネルにローカルユーザを持つサーバにのみ知られなければなりません。また、マスクがローカルおよび近隣のサーバ名の両方に一致する場合は、その近隣サーバにのみ知られなければなりません。他のサーバはこのようなチャネルの存在を全く知らないので、マスクに一致する名前を持つサーバが形成する領域は、これらすべてのサーバにチャネルが知られるように連続でなければなりません。チャネルマスクはサーバのホストマスク [<a href="channel-characteristics/(https://solareenlo.com/rfc2813)">IRC-SERVER</a>] と組み合わせて使用するのが最も効果的です。</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="23-チャネルプロパティ"><a class="header" href="#23-チャネルプロパティ">2.3 チャネルプロパティ</a></h1>
<p>各チャネルは独自のプロパティを持ち、それはチャネルモードによって定義されます。チャネルモードは、チャネルのメンバが操作することができます。モードは、サーバがチャネルを管理する方法に影響を与えます。</p>
<p>接頭辞に <code>+</code> を持つチャネルは、チャネルモードをサポートしていません。つまり、<code>t</code> チャネルフラグが設定されていることを除いて、すべてのモードが未設定であることを意味します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="24-特権的なチャネルメンバー"><a class="header" href="#24-特権的なチャネルメンバー">2.4 特権的なチャネルメンバー</a></h1>
<p>チャネルメンバーがチャネルをコントロールし、ある種の健全性を保つために、一部のチャネルメンバーには特権が与えられます。これらのメンバーのみが、チャネル上で以下のアクションを実行することを許可されます。</p>
<pre><code>INVITE  - クライアントを招待制のチャネルに招待する（モード +i）
KICK    - クライアントをチャネルから退出させる
MODE    - チャネルのモードを変更し、メンバーの権限も変更する
PRIVMSG - チャネルにメッセージを送る（モード +n, +m, +v）
TOPIC   - Change the channel topic in a mode +t channel
TOPIC   - モード +t のチャネルでチャネルのトピックを変更する
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="241-チャネルオペレータ"><a class="header" href="#241-チャネルオペレータ">2.4.1 チャネルオペレータ</a></h1>
<p>あるチャネルのチャネルオペレータ（&quot;チョップ&quot; または &quot;チャノップ&quot; とも呼ばれる）は、そのチャネルを &quot;所有&quot; しているとみなされます。チャネルの所有権はチャネルオペレータの間で共有されます。</p>
<p>チャネルオペレータは、そのニックネームがチャネルに関連づけられた場合（NAMES、WHO、WHOIS コマンドへの返信など）、ニックネームの横に <code>@</code> マークが表示され識別されます。</p>
<p>接頭辞に <code>+</code> を持つチャネルはチャネルモードをサポートしないため、チャネルオペレータのステータスを持つメンバは存在しません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="242-チャネル作成者"><a class="header" href="#242-チャネル作成者">2.4.2 チャネル作成者</a></h1>
<p>接頭辞に <code>!</code> を付けてチャネルを作成したユーザは、&quot;チャンネル作成者&quot; として識別されます。また、チャネルを作成した時点で、このユーザはチャネルオペレータのステータスを与えられます。</p>
<p>そのため、チャネル作成者には、チャネルオペレータが操作できないチャネルの特定のモードを切り替える能力が与えられています。</p>
<p>&quot;チャンネル作成者&quot; は、適切な MODE コマンドを発行することで、チャネルオペレータと区別することができます。このトピックに関する詳細な情報は、&quot;IRC クライアントプロトコル&quot; [<a href="https://solareenlo.com/rfc2812">IRC-CLIENT</a>] を参照してください。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="3-チャネルの寿命"><a class="header" href="#3-チャネルの寿命">3. チャネルの寿命</a></h1>
<p>チャネルの寿命に関しては、一般的に2つのグループがあります：接頭辞が <code>&amp;</code>、<code>#</code>、<code>+</code> のいずれかの標準チャネルと、接頭辞が <code>!</code> の &quot;安全なチャネル&quot; です。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="31-標準チャネル"><a class="header" href="#31-標準チャネル">3.1 標準チャネル</a></h1>
<p>これらのチャネルは、最初のユーザが参加したときに暗黙的に作成され、最後のユーザが退出したときに存在しなくなります。チャネルが存在する間は、どのクライアントもチャネル名を使用してチャネルを参照することができます。</p>
<p>チャネルを作成したユーザは自動的にチャネルオペレータになりますが、チャネル名の前に <code>+</code> が付くチャネルは例外です（<a href="channel-lifetime/../channel-modes/index.html">4. チャネルモード</a> を参照）。このタイトルの詳細については、<a href="channel-lifetime/../channel-characteristics/channel-operators.html">2.4.1チャンネルオペレータ</a> を参照してください。</p>
<p>重複したチャンネルが作成されるのを避けるため（典型的には2つのサーバ間で分割されたために IRC ネットワークが不連続になった場合）、チャネルオペレータ（<a href="channel-lifetime/../channel-characteristics/channel-operators.html">2.4.1 チャネルオペレータ</a> を参照）がネットワークの分割によって最近チャネルから離れた場合は、チャネル名をユーザが再利用することを許可してはいけません。この場合，チャネル名は一時的に利用できなくなります。チャネルが利用できない状態にある期間は、IRC ネットワークごとに設定する必要があります。これはローカルユーザが同じ名前のチャネルを作成することを防ぎますが、リモートユーザがチャネルを再作成することは防げないことに注意することが重要です。後者は通常、IRC ネットワークが再接続されたときに起こります。明らかに、このメカニズムは名前が <code>#</code> で始まるチャネルにのみ意味がありますが、名前が <code>+</code> で始まるチャネルにも使用することができます。このメカニズムは一般的に &quot;Channel Delay&quot; として知られています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="32-安全なチャネル"><a class="header" href="#32-安全なチャネル">3.2 安全なチャネル</a></h1>
<p>他のチャネルとは異なり、&quot;安全なチャネル&quot; は暗黙のうちに作成されることはありません。このようなチャネルを作成したいユーザは、サーバに特別な JOIN コマンドを送信して作成を要求しなければなりません。このとき、チャネル識別子（当時は不明）は文字 <code>!</code> に置き換えられます。このタイプのチャネルの作成プロセスは厳密に制御されます。ユーザはチャネル名の一部（チャネルの &quot;ショートネーム&quot; と呼ばれる）を選択するだけで、サーバは自動的にユーザが提供した名前の前に5文字からなるチャネル識別子を付けます。この2つの要素の組み合わせによるチャネル名は一意であり、ネットワークの分割に基づく悪用からチャネルを安全に守ることができます。</p>
<p>このようなチャネルを作成したユーザは、自動的に &quot;チャンネル作成者&quot; となります。この称号の詳細については、<a href="channel-lifetime/../channel-characteristics/channel-creator.html">2.4.2 チャネル作成者</a> を参照してください。</p>
<p>サーバは、同じ短縮名を持つ別のチャネルが存在する場合、または同じ短縮名を持つ別のチャネルが最近存在し、そのメンバーのいずれかがネットワークの分裂によって離脱した場合、新規チャネルの作成を許可してはなりません。このようなチャネルは、最後のユーザが退出し、ネットワークの分裂によって他のメンバがそのチャネルから退出しなくなった時点で存在しなくなります。</p>
<p><a href="channel-lifetime/../current-implementations/channel-delay.html">5.2.2 チャンネル遅延</a> で説明したメカニズムとは異なり、この場合、チャネル名は利用できなくなるわけではなく、最後のユーザが退出した後もこれらのチャネルは存在し続ける可能性があります。チャネルを作成したユーザのみが &quot;チャンネル作成者&quot; となり、既存の空のチャネルに参加したユーザは自動的に &quot;チャンネル作成者&quot; にも &quot;チャンネルオペレータ&quot; にもなれません。</p>
<p>チャネル名の一意性を確保するため、サーバが作成するチャネル識別子は特定のルールに従わなければなりません。この詳細については、<a href="channel-lifetime/../current-implementations/channel-identifier.html">5.2.1 チャネル識別子</a> を参照してください。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="4-チャネルモード"><a class="header" href="#4-チャネルモード">4. チャネルモード</a></h1>
<p>チャネルに用意されている各種モードは以下の通りです。</p>
<pre><code>O - &quot;チャネル作成者&quot; のステータスを与える。
o - チャネルオペレータの権限を与える/取る。
v - 音声の特権を与える/取る。

a - 匿名チャネルフラグを切り替える。
i - 招待専用チャネルフラグを切り替える。
m - モデレートされたチャネルを切り替える。
n - 外部のクライアントからチャネルへのメッセージの受信禁止を切り替える。
q - クワイエットチャネルフラグを切り替える。
p - プライベートチャネルフラグを切り替える。
s - シークレットチャネルフラグを切り替える。
r - サーバ再開チャネルフラグを切り替える。
t - チャネルオペレータだけが設定可能なトピックフラグを切り替える。

k - チャネルキー（パスワード）を設定／解除する。
l - チャネルに対するユーザ制限を設定/解除する。

b - ユーザを締め出すための禁止マスクを設定/解除する。
e - 禁止マスクを上書きするための例外マスクを設定/削除する。
I - 招待専用フラグを自動的に上書きする招待マスクを設定/削除する。
</code></pre>
<p>以下に特に断りがない限り、これらのモードは &quot;IRC クライアントプロトコル&quot; [<a href="channel-modes/">IRC-CLIENT</a>] で定義されている MODE コマンドを使用することで &quot;チャンネルオペレータ&quot; が操作することができる。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="41-メンバーステータス"><a class="header" href="#41-メンバーステータス">4.1 メンバーステータス</a></h1>
<p>このカテゴリのモードは、チャネルメンバのニックネームを引数として取り、このユーザに与えられた特権に影響を与えます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="411-チャネル作成者-ステータス"><a class="header" href="#411-チャネル作成者-ステータス">4.1.1 &quot;チャネル作成者&quot; ステータス</a></h1>
<p>モード <code>O</code> は &quot;安全なチャネル&quot; でのみ使用され、ユーザによって操作されてはなりません。サーバは、チャネルを作成するユーザに &quot;チャネル作成者&quot; のステータスを与えるために使用します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="412-チャネルオペレータステータス"><a class="header" href="#412-チャネルオペレータステータス">4.1.2 チャネルオペレータステータス</a></h1>
<p>モード <code>o</code> は、チャネルメンバのオペレータのステータスを切り替えるために使用します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="413-音声特権"><a class="header" href="#413-音声特権">4.1.3 音声特権</a></h1>
<p>モード <code>v</code> は、チャネルメンバへ音声権限を与えたり、取ったりするために使用します。この特権を持つユーザは、モデレートされたチャネルで会話することができます。（<a href="channel-modes/./moderated-channel-flag.html">4.2.3 モデレートされたチャンネルフラグ</a> を参照してください。）</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="42-チャネルフラグ"><a class="header" href="#42-チャネルフラグ">4.2 チャネルフラグ</a></h1>
<p>このカテゴリのモードは、チャネルの動作に影響を与えるプロパティを定義するために使用されます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="421-匿名フラグ"><a class="header" href="#421-匿名フラグ">4.2.1 匿名フラグ</a></h1>
<p>チャネルフラグ <code>a</code> は匿名チャネルを定義します。これは、このチャネルに送信されたメッセージが サーバからユーザに送信され、その送信元がユーザである場合、そのメッセージをマスクする必要があることを意味します。メッセージをマスクするために、オリジンは <code>anonymous!anonymous@anonymous</code> に変更されます。（例: ニックネーム <code>anonymous</code>、ユーザ名 <code>anonymous</code>、ホスト名 <code>anonymous</code> のユーザ）に変更します。このため、サーバはユーザが <code>anonymous</code> というニックネームを使用することを禁止しなければなりません。また、このようなチャネルから退出するユーザに対して、サーバは他のチャンネルメンバに QUIT メッセージを送らず、代わりにパートメッセージを生成しなければなりません。</p>
<p>文字 <code>&amp;</code> を接頭辞に持つチャネルでは、このフラグはチャネルオペレータが切り替えることができますが、文字 <code>!</code> を接頭辞に持つチャネルでは、このフラグは &quot;チャンネル作成者&quot; のみが設定できます（ただし解除してはなりません）。このフラグは、他の種類のチャネルで利用可能であってはなりません。</p>
<p>WHOIS、WHO、および NAMES コマンドへの返信では、匿名フラグが設定されているチャネルに他のユーザが存在することを明らかにしてはなりません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="422-招待専用フラグ"><a class="header" href="#422-招待専用フラグ">4.2.2 招待専用フラグ</a></h1>
<p>チャネルフラグ <code>i</code> が設定されている場合、新しいメンバはそのマスクが Invite-list（章 <a href="channel-modes/./channel-invitation.html">4.3.2</a> 参照) に一致するか、チャネルオペレータによって招待された場合のみ受け入れられます。このフラグは INVITE コマンド（<a href="https://solareenlo.com/rfc2812">&quot;IRC クライアントプロトコル&quot; [IRC-CLIENT]</a> 参照）の使用もチャネルオペレータに制限しています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="423-モデレートチャネルフラグ"><a class="header" href="#423-モデレートチャネルフラグ">4.2.3 モデレートチャネルフラグ</a></h1>
<p>チャンネルフラグ <code>m</code> は、チャネルで発言できる人を制御するために使用されます。このフラグが設定されている場合、チャネルオペレータと音声権限を与えられたメンバのみがチャネルにメッセージを送信することができます。</p>
<p>このフラグは、ユーザにのみ影響します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="424-外部のクライアントからチャネルへのメッセージ禁止"><a class="header" href="#424-外部のクライアントからチャネルへのメッセージ禁止">4.2.4 外部のクライアントからチャネルへのメッセージ禁止</a></h1>
<p>チャネルフラグ <code>n</code> が設定されている場合、チャネルメンバのみがチャネルにメッセージを送信することができます。</p>
<p>このフラグは、ユーザにのみ影響します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="425-quiet-チャネル"><a class="header" href="#425-quiet-チャネル">4.2.5 Quiet チャネル</a></h1>
<p>チャネルフラグ <code>q</code> は、サーバのみが使用します。このフラグを設定すると、チャネルの操作に関して、ユーザに送信されるデータの種類が制限されます。他のユーザの参加、パート、ニックネームの変更などは送信されません。ユーザから見ると、チャネルにはユーザが一人しかいません。</p>
<p>これは通常、サーバがその操作に関連する通知を送信する特別なローカルチャネルを作成するために使用されます。これは、<a href="https://solareenlo.com/rfc1459">RFC 1459 [IRC]</a> で定義されているユーザモード <code>s</code> を置き換え、より効率的で柔軟な方法として使用されます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="426-プライベートシークレットチャネル"><a class="header" href="#426-プライベートシークレットチャネル">4.2.6 プライベート・シークレットチャネル</a></h1>
<p>チャネルフラグ <code>p</code> はチャネルを &quot;プライベート&quot; に、チャネルフラグ <code>s</code> はチャネルを &quot;シークレット&quot; にマークするために使用されます。どちらの性質も同様であり、他のユーザからチャネルの存在を隠すことができます。</p>
<p>これは、メンバでない限り、サーバからこのチャネルの名前を取得する方法がないことを意味します。言い換えれば、これらのチャネルは WHOIS コマンドなどのクエリに対する応答から除外する必要があります。</p>
<p>チャネルが &quot;シークレット&quot; の場合、上記の制限に加えて、TOPIC、LIST、NAMES コマンドなどの問い合わせに対して、そのチャネルが存在しないかのように振る舞います。このルールには1つの例外があることに注意してください：サーバは MODE コマンドには正しく応答します。最後に、<code>mask</code> パラメータが指定されている場合、LUSERS コマンド（<a href="https://solareenlo.com/rfc2812">&quot;Internet Relay Chat: クライアントプロトコル&quot; [IRC-CLIENT]</a> を参照）に対する応答では、シークレットチャネルは考慮されません。</p>
<p>チャネルフラグ <code>p</code> と <code>s</code> は同時に設定してはなりません。サーバから発信された MODE メッセージがフラグ <code>p</code> を設定し、そのチャネルにすでにフラグ <code>s</code> が設定されていた場合、その変更は静かに無視されます。これはスプリットヒーリングフェーズ（<a href="https://solareenlo.com/rfc2813">&quot;IRC サーバプロトコル&quot; 文書 [IRC-SERVER]</a> で述べられています）中にのみ発生するはずです。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="427-サーバ再開フラグ"><a class="header" href="#427-サーバ再開フラグ">4.2.7 サーバ再開フラグ</a></h1>
<p>チャネルフラグ <code>r</code> は、名前が <code>!</code> で始まるチャネルにのみ有効で、&quot;チャネル作成者&quot; によってのみ切り替えられます。</p>
<p>このフラグは、チャネルオペレータがいない状態が長時間続くことを防ぐために使用されます。このフラグが設定されると、&quot;reop delay&quot; 期間よりも長い間、すべてのチャネルオペレータを失ったチャネルは、一部またはすべてのチャネル住民を再開するためのサーバ内のメカニズムをトリガします。このメカニズムについては、<a href="channel-modes/../current-implementations/server-repo-mechanism.html">5.2.4 チャネル再開のメカニズム</a> でより詳細に説明します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="428-トピック"><a class="header" href="#428-トピック">4.2.8 トピック</a></h1>
<p>チャネルフラグ <code>t</code> は、TOPIC コマンドの使用をチャネルオペレータに限定するために使用します。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="429-ユーザ制限"><a class="header" href="#429-ユーザ制限">4.2.9 ユーザ制限</a></h1>
<p>チャネルフラグ <code>l</code> を使用することで、チャネルにユーザ数の上限を設定することができます。この制限に達した場合、サーバはそのローカルユーザがそのチャネルに参加することを禁止しなければなりません。</p>
<p>制限の値は、サーバが MODE クエリに対して送信する応答においてのみ、チャネルメンバに公開されなければなりません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="4210-チャネルキー"><a class="header" href="#4210-チャネルキー">4.2.10 チャネルキー</a></h1>
<p>チャネルキーが設定された場合（モード <code>k</code> を使用）、サーバはこのキーが与えられない限り、ローカルユーザのチャネル参加要求を拒否しなければなりません。</p>
<p>チャネルキーは，MODE クエリに対するサーバからの応答においてのみ，チャネルメンバに見えるようにしなければなりません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="43-チャネルアクセス制御"><a class="header" href="#43-チャネルアクセス制御">4.3 チャネルアクセス制御</a></h1>
<p>最後のカテゴリのモードは，チャネルへのアクセスを制御するために使用され，引数としてマスクを取ります。</p>
<p>チャネルに設定される制御アクセスモードのグローバルデータベースのサイズを縮小するために、サーバは特定のチャネルに設定されるそのモードの数に最大限の制限を設けることができます。そのような制限が課される場合、それはユーザのリクエストにのみ影響するものでなければなりません。制限は IRC ネットワークごとに均質であるべきです。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="431-チャネル禁止と例外"><a class="header" href="#431-チャネル禁止と例外">4.3.1 チャネル禁止と例外</a></h1>
<p>ユーザがチャネルへの参加を要求すると、そのユーザのローカルサーバは、ユーザのアドレスがチャネルに設定されている禁止マスクのいずれかに一致するかどうかをチェックします。一致した場合、そのアドレスがチャネルに設定された例外マスクにも一致しない限り、ユーザのリクエストは拒否されます。</p>
<p>サーバは、チャネルから追放されたチャネルメンバーがチャネルオペレータであるか、音声権限を持っていない限り、そのチャネルでの発言を許可してはなりません。（<a href="channel-modes/./voice-privilege.html">4.1.3 音声特権</a> を参照。）</p>
<p>チャネルから追放されたユーザが、チャネル運営者から送られた招待状を携帯している場合、チャネルへの参加が許可されます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="432-チャネル招待"><a class="header" href="#432-チャネル招待">4.3.2 チャネル招待</a></h1>
<p>招待専用フラグが設定されているチャネル（<a href="channel-modes/./invite-only-flag.html">4.2.2 招待専用フラグ</a> 参照）では、そのチャネルに設定されている招待マスクにアドレスが一致するユーザは、招待なしでチャネルに参加することができます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="5-現在の実装"><a class="header" href="#5-現在の実装">5. 現在の実装</a></h1>
<p>これらのルールを IRC プロトコルの一部として現在実装しているのは、IRC サーバ、バージョン 2.10 のみです。</p>
<p>この章の残りの部分は、主にサーバを実装しようとする人にとって重要な問題を扱っていますが、いくつかの部分はクライアントを書く人にとっても興味深いものでしょう。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="51-最近使ったチャネルの追跡"><a class="header" href="#51-最近使ったチャネルの追跡">5.1 最近使ったチャネルの追跡</a></h1>
<p>このメカニズムは一般に &quot;チャネル遅延&quot; と呼ばれ、一般に名前の前に <code>#</code> が付くチャネルにのみ適用されます（<a href="current-implementations/../channel-lifetime/standard-channels.html">3.1 標準チャンネル</a> 参照）。</p>
<p>ネットワークの分割が発生した場合、サーバは分割の結果、どのチャネルが &quot;チャンネルオペレータ&quot; を失ったかを追跡する必要があります。これらのチャネルは、ある期間、特別な状態になります。この特別な状態では、チャネルは存在しなくなることはありません。すべてのチャネルメンバがチャネルを離れると、チャネルは利用できなくなります。チャネルが空である限り、サーバ・ローカル・クライアントはチャネルに参加することができません。</p>
<p>一度利用できなくなったチャネルは、リモートユーザがチャネルに参加した場合（ネットワークが回復している場合が多い）、または遅延時間が経過した場合に再び利用可能になり、その場合チャネルは存在しなくなりますが、再作成される可能性があります。</p>
<p>チャネルの死を遅延させる期間は、IRC ネットワークのサイズ（ユーザ数）や、ネットワークの分割の通常の期間など、多くの要因を考慮して設定する必要があります。これは、ある IRC ネットワークのすべてのサーバで統一されるべきです。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="52-安全なチャネル"><a class="header" href="#52-安全なチャネル">5.2 安全なチャネル</a></h1>
<p>本書では，&quot;安全なチャネル&quot; という概念を導入しています。これらのチャネルは <code>!</code> という文字を先頭につけた名前を持ち、この名前空間での衝突を避けるために多大な努力が払われています。衝突は不可能ではありませんが、非常に起こりにくいです。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="521-チャネル識別子"><a class="header" href="#521-チャネル識別子">5.2.1 チャネル識別子</a></h1>
<p>チャネル識別子は、時刻の関数です。現在時刻（UNIX では 1970 年 1 月 1 日 00:00:00 GMT からの経過秒数で定義）は、以下の基数を用いて 5 文字の文字列に変換されます。<code>ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890</code>（各文字は 0 から始まる 10 進数値で、<code>A</code> は <code>0</code>、<code>0</code> は <code>35</code> です。）</p>
<p>したがって、チャネル識別子の周期は \(36^5\) 秒（約700日）です。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="522-チャネル遅延"><a class="header" href="#522-チャネル遅延">5.2.2 チャネル遅延</a></h1>
<p>これらのチャネルには、<a href="current-implementations/./tracking-recently-used-channels.html">5.1項（チャネル遅延）</a>で説明した &quot;チャネル遅延&quot; の仕組みが必要です。ただし、この仕組みはより適合するように若干アレンジされています。</p>
<p>サーバは、ユーザが &quot;チャンネルオペレータ&quot; であるかどうかにかかわらず、ネットワークの分割によってメンバを失ったそのようなチャネルをすべて記録しておかなければなりません。</p>
<p>ただし、これらのチャネルが使えなくなることはなく、空チャネルであっても常に参加することが可能です。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="523-abuse-window"><a class="header" href="#523-abuse-window">5.2.3 Abuse Window</a></h1>
<p>周期性が長いため、特定のチャネル（名前）に対する攻撃は、非常に長い時間に一度しか発生しない可能性があります。しかし、運と忍耐力があれば、ユーザがチャネル衝突を起こすことは可能です。これを避けるために、サーバは &quot;未来を見る&quot; 必要があり、識別子が使用されようとしているチャネル名のリストを保持する必要があります（たとえば、今後数日間に使用される）。このようなリストは小さく、サーバにとって維持の負担にならないものであるべきで、チャネルの遅延よりも長い期間、そのようなチャネルの再作成を防止することによって、チャネル衝突を回避するために使用されます。</p>
<p>最終的には、この手順を拡張して、同じショートネームだけを持つチャネルの作成を禁止する（その場合、チャネル識別子は無視される）ことになるかもしれません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="524-ネームスペースの健全性確保"><a class="header" href="#524-ネームスペースの健全性確保">5.2.4 ネームスペースの健全性確保</a></h1>
<p><a href="current-implementations/./channel-delay.html">5.2.2 節</a>と <a href="current-implementations/./abuse-window.html">5.2.3 節</a>で説明したメカニズムを組み合わせることで、ユーザがチャネルの衝突を起こすことはかなり難しくなっています。しかし、別のタイプの不正使用は、同じショートネームを持つが異なる識別子を持つ多数のチャネルを作成することです。これを防ぐために、サーバは現在存在するチャネルと同じショートネームを持つ新しいチャネルの作成を禁止しなければなりません。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="525-サーバ再稼働の仕組み"><a class="header" href="#525-サーバ再稼働の仕組み">5.2.5 サーバ再稼働の仕組み</a></h1>
<p>チャネルが &quot;再開遅延&quot; 期間よりも長く無人となり、チャネルフラグ <code>r</code> が設定されている場合（<a href="current-implementations/../channel-modes/server-reop-flag.html">4.2.7 サーバ再開フラグ</a> 参照）、IRC サーバはチャネルオペレータ状態を一部のメンバにランダムに与える責任を負います。</p>
<p>現在の実装でこのメカニズムに使用されている正確なロジックを以下に説明します。サーバは異なるロジックを使用することができますが、一貫性と公平性を維持するために、特定の IRC ネットワーク上ですべてのサーバが同じロジックを使用することが強く推奨されています。同じ理由で、&quot;reop delay&quot; は特定の IRC ネットワークのすべてのサーバで均一であるべきです。&quot;チャネル遅延&quot; については、IRC ネットワークの規模（ユーザ数）、ネットワークの分割の頻度など、様々な要素を考慮して &quot;再開遅延&quot; の値を設定する必要があります。</p>
<p>a) 再稼働メカニズムは、&quot;再稼働遅延&quot; の満了後、ランダムな時間の後にトリガーされます。これは、メカニズムが2つの別々のサーバで同時に（同じチャネルで）トリガーされる可能性を制限するはずです。</p>
<p>b) チャネルが小規模（5ユーザ以下）で、このチャネルの &quot;チャネル遅延&quot; が終了した場合、少なくとも1つのメンバがサーバにローカルであれば、すべてのチャネルメンバを再オープンします。</p>
<p>c) チャネルが小規模（5ユーザ以下）で、このチャネルの &quot;チャネル遅延&quot; が期限切れで、&quot;再開遅延&quot; の値より長い時間が経過した場合、すべてのチャネルメンバを再開させます。</p>
<p>d) その他の場合は、サーバに組み込まれた何らかの方法に基づいて、チャネル上の最大1人のメンバを再開させます。もし、メンバを再開しないのであれば、その方法は、他のサーバがおそらく誰かを再開するようなものでなければなりません。この方法は、ネットワーク全体で同じであるべきです。良いヒューリスティックは、単なるランダムな再開かもしれません。
（現在の実装では、実際にサーバのローカルであまり長くアイドル状態になっていないメンバを選ぼうとし、最終的には行動を先延ばしにして、他のサーバに &quot;あまりアイドル状態になっていない&quot; メンバを見つける機会を与えています。これは、サーバがローカルユーザの &quot;アイドル&quot; 時間しか知らないため、複雑になりすぎています。）</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="6-現在の問題"><a class="header" href="#6-現在の問題">6. 現在の問題</a></h1>
<p>IRC チャンネルの管理方法には、いくつかの問題があると認識されています。これらのうちのいくつかは、この文書で定義された規則に直接起因するものであり、他のものは基礎となる <a href="https://solareenlo.com/rfc2813">&quot;IRC サーバプロトコル&quot; [IRC-SERVER]</a> に起因するものであります。<a href="https://solareenlo.com/rfc1459">RFC 1459 [IRC]</a> から派生したものではありますが、この文書では、既知の問題のいくつかを解決するために、いくつかの新規性を導入しています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="61-ラベル"><a class="header" href="#61-ラベル">6.1 ラベル</a></h1>
<p>この文書では、IRC プロトコルで使用される多くのラベルのうちの 1 つを定義しています。（チャネル名の接頭辞に基づく）いくつかの明確な名前空間がありますが、それぞれの内部で重複することは許されません。現在、異なるサーバのユーザがラベルを選択することが可能であり、衝突を引き起こす可能性があります（ただし、1つのサーバにしか知られていないチャネルは例外で、衝突を回避することができます）。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="611-チャネル遅延"><a class="header" href="#611-チャネル遅延">6.1.1 チャネル遅延</a></h1>
<p><a href="current-problems/../current-implementations/tracking-recently-used-channels.html">5. 1 最近使ったチャネルの追跡</a> で説明した、文字 <code>#</code> を接頭辞に持つチャネルに使用されるチャネル遅延メカニズムは、衝突の発生を防ぐための単純な試みです。経験上、通常の状況下では非常に効率的であることが分かっています。しかし、ここで議論する問題に対する適切な解決策とはならないような厳しい制限があることは明らかです。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="612-安全なチャネル"><a class="header" href="#612-安全なチャネル">6.1.2 安全なチャネル</a></h1>
<p><a href="current-problems/../channel-lifetime/safe-channels.html">3.2 安全なチャネル</a> で説明する &quot;安全なチャネル&quot; は、ユーザが選択したラベルを完全に制御することを防ぐため、衝突が起こらないようにするためのより良い方法です。このようなラベルの明らかな欠点は、ユーザフレンドリーでないことです。しかし、クライアントプログラムがこれを改善するのはかなり些細なことです。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="62-モード伝搬遅延"><a class="header" href="#62-モード伝搬遅延">6.2 モード伝搬遅延</a></h1>
<p>ネットワークによって引き起こされるネットワーク遅延や、経路上の各サーバがモード変更の有効性（ユーザが存在し、正しい権限を持っているかなど）を確認する必要があるため、MODE メッセージがネットワークの一部にしか影響しないことは珍しくなく、チャネルの現在の状態についてサーバ間で不一致が生じることもよくあります。</p>
<p>これは、元のサーバだけがモード変更の妥当性をチェックすることで簡単に解決できそうですが、様々な理由からそうしないことにしました。1つは、サーバが互いに信頼できず、誤動作しているサーバが簡単に検出されることが懸念されることです。また、この方法だと、異なる方向からモード変更を行ったときに、同期していないチャネルに波が立つのを防ぐこともできます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="63-衝突とチャネルモード"><a class="header" href="#63-衝突とチャネルモード">6.3 衝突とチャネルモード</a></h1>
<p><a href="https://solareenlo.com/rfc2813">&quot;Internet Relay Chat: サーバプロトコル&quot; ドキュメント [IRC-SERVER]</a> は、2つのサーバが互いに接続したときに、どのようにチャネルデータを交換するかを説明しています。チャネルの衝突は（正当なものであろうとなかろうと）包含的なイベントとして扱われ、結果として生じるチャネルは、接続前にいずれかのサーバでチャネルのメンバであったすべてのユーザをメンバとして持つことを意味します。</p>
<p>同様に、各サーバはチャネルモードを他のサーバに送信します。したがって、各サーバはこれらのチャネルモードも受信します。あるチャネルのモードには、フラグ、マスク、データという3つのタイプがあります。最初の2つのタイプは、設定するかしないかのどちらかであるため、簡単に扱うことができます。このようなモードが一方のサーバで設定されている場合、接続の結果、もう一方のサーバでも設定されなければなりません。</p>
<p>トピックはこの交換の一部として送信されないので、問題はありません。しかし、チャネルモード <code>l</code> と <code>k</code> は交換され、接続前に両サーバで設定されていた場合、どちらの値が優先されるかを決めるメカニズムはありません。結果として生じる不一致を修正するのは、ユーザに任されています。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="64-リソースの枯渇"><a class="header" href="#64-リソースの枯渇">6.4 リソースの枯渇</a></h1>
<p><a href="current-problems/../channel-modes/channel-access-control.html">4.3 節</a> で定義されたマスクに基づくモードは、IRC サーバ（とネットワーク）をシステムの単純な悪用に対して脆弱にします：一人のチャネルオペレータが、特定のチャネルにできるだけ多くの異なるマスクを設定することができます。これはサーバがメモリとネットワークの帯域を浪費する原因になりえます（情報が他のサーバに伝搬されるからです）。このため、<a href="current-problems/../channel-modes/channel-access-control.html">4.3 節</a> で述べたように、チャネルごとのマスクの数に制限を設けることが推奨されます。</p>
<p>さらに、同じチャネルに冗長なマスクが設定されないように、より複雑なメカニズムを使用することもできます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="7-セキュリティへの配慮"><a class="header" href="#7-セキュリティへの配慮">7. セキュリティへの配慮</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="71-アクセス制御"><a class="header" href="#71-アクセス制御">7.1 アクセス制御</a></h1>
<p>チャネルへのアクセスを制御する主な方法のひとつは、ユーザ接続のユーザ名とホスト名をもとにしたマスクを使用することです。このメカニズムは、IRC サーバがユーザの接続を認証する正確な方法を持っていて、ユーザが簡単にそれを回避できない場合にのみ、効率的で安全なものとなりえます。理論的にはこのような厳密な認証機構を実装することは可能ですが、ほとんどの IRC ネットワーク（特に公共のネットワーク）ではこのようなものはなく、特定のクライアント接続のためのユーザ名とホスト名の正確さについてはほとんど保証されていません。</p>
<p>また、アクセス制御の方法として、チャネルキーを使用する方法もありますが、このキーは平文で送信されるため、従来の中間者攻撃に対して脆弱です。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="72-チャネルプライバシー"><a class="header" href="#72-チャネルプライバシー">7.2 チャネルプライバシー</a></h1>
<p>チャネルの衝突は包括的なイベントとして扱われるため（<a href="security-considerations/../current-problems/collisions-and-channel-modes.html">6.3 節</a> 参照）、ユーザがアクセス制御設定を上書きしてチャネルに参加することが可能です。この方法は、チャネルでチャネルオペレータの地位を &quot;不正に&quot; 獲得し、チャネルを &quot;乗っ取る&quot; 個人によって長い間使用されてきました。同じ方法で、チャネルの正確なメンバーリストを見つけることができますし、最終的にはチャネルに送信されたメッセージの一部を受信することもできます。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="73-匿名性"><a class="header" href="#73-匿名性">7.3 匿名性</a></h1>
<p>匿名チャネルフラグ（<a href="security-considerations/../channel-modes/anonymous-flag.html">4.2.1 節</a> を参照）を使用すると、チャネルへのすべてのメッセージはニックネームが <code>anonymous</code> である疑似ユーザから発信されていると表示され、そのチャネルのすべてのユーザは <code>anonymous</code> となります。これはクライアント・サーバレベルで行われ、サーバ・サーバレベルでは匿名性は提供されません。</p>
<p>読者には、提供される匿名性のレベルが非常に低く、安全でないことは明らかであり、クライアントがそのようなチャネルに参加するユーザに対して強い警告を表示する必要があります。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="8-現在のサポートと可用性"><a class="header" href="#8-現在のサポートと可用性">8. 現在のサポートと可用性</a></h1>
<p>IRC 関連の議論を行うためのメーリングリスト：</p>
<ul>
<li>General discussion: ircd-users@irc.org</li>
<li>Protocol development: ircd-dev@irc.org</li>
</ul>
<p>ソフトウェアの実装：</p>
<ul>
<li><code>ftp://ftp.irc.org/irc/server</code></li>
<li><code>ftp://ftp.funet.fi/pub/unix/irc</code></li>
<li><code>ftp://coombs.anu.edu.au/pub/irc</code></li>
</ul>
<p>Newsgroup: alt.irc</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="9-謝辞"><a class="header" href="#9-謝辞">9. 謝辞</a></h1>
<p>この文書の一部は、IRC プロトコルを最初に正式に文書化した <a href="https://solareenlo.com/rfc1459">RFC 1459 [IRC]</a> からコピーされたものです。また、多くのレビューとコメントから恩恵を受けています。特に、以下の方々がこの文書に大きな貢献をされました。</p>
<p>Matthew Green, Michael Neumayer, Volker Paulsen, Kurt Roeckx, Vesa Ruokonen, Magnus Tjernstrom, Stefan Zehl.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="10-参考"><a class="header" href="#10-参考">10. 参考</a></h1>
<p>[KEYWORDS] Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119, March 1997.</p>
<p>[<a href="https://solareenlo.com/rfc1459">IRC</a>] Oikarinen, J. and D. Reed, &quot;Internet Relay Chat Protocol&quot;, RFC 1459, May 1993.</p>
<p>[<a href="https://solareenlo.com/rfc2810">IRC-ARCH</a>] Kalt, C., &quot;Internet Relay Chat: Architecture&quot;, RFC 2810, April 2000.</p>
<p>[<a href="https://solareenlo.com/rfc2812">IRC-CLIENT</a>] Kalt, C., &quot;Internet Relay Chat: Client Protocol&quot;, RFC 2812, April 2000.</p>
<p>[<a href="https://solareenlo.com/rfc2813">IRC-SERVER</a>] Kalt, C., &quot;Internet Relay Chat: Server Protocol&quot;, RFC 2813, April 2000.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="11-authors-address"><a class="header" href="#11-authors-address">11. Author's Address</a></h1>
<p>Christophe Kalt 99 Teaneck Rd, Apt #117 Ridgefield Park, NJ 07660 USA</p>
<p>EMail: kalt@stealth.net</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="12--full-copyright-statement"><a class="header" href="#12--full-copyright-statement">12.  Full Copyright Statement</a></h1>
<p>Copyright (C) The Internet Society (2000).  All Rights Reserved.</p>
<p>This document and translations of it may be copied and furnished to
others, and derivative works that comment on or otherwise explain it
or assist in its implementation may be prepared, copied, published
and distributed, in whole or in part, without restriction of any
kind, provided that the above copyright notice and this paragraph are
included on all such copies and derivative works.  However, this
document itself may not be modified in any way, such as by removing
the copyright notice or references to the Internet Society or other
Internet organizations, except as needed for the purpose of
developing Internet standards in which case the procedures for
copyrights defined in the Internet Standards process must be
followed, or as required to translate it into languages other than
English.</p>
<p>The limited permissions granted above are perpetual and will not be
revoked by the Internet Society or its successors or assigns.</p>
<p>This document and the information contained herein is provided on an
&quot;AS IS&quot; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</p>
<p>Acknowledgement</p>
<p>Funding for the RFC Editor function is currently provided by the
Internet Society.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="src/theme/theme-solarized_dark.js"></script>
        <script type="text/javascript" src="src/theme/theme-solarized_light.js"></script>
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
    </body>
</html>
